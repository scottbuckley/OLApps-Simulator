<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Simulator</title>
		<script src="/common/jquery.min.js"></script>
		<script src="/common/bootstrap/js/bootstrap.min.js"></script>
		<script src="{{ media('js/ace/ace.js') }}" type="text/javascript" charset="utf-8"></script>
		<script src="{{ media('simulator.js') }}" type="text/javascript"></script>
		{{ app_init_js }}
		<link rel="stylesheet" type="text/css" href="/common/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="{{ media('style.css') }}" />
	</head>
	<body>
		<div class="code_area_wrapper">
			<div id="editor_wrapper">
				<div id="editor">save %sp, -64, %sp
	mov 5, %l0
	cmp %l0, 5
	and %r1, 5, %r8
	ta 1 ! Should NEVER happen
end: mov 1, %g1
	ta 0</div>
			</div>
		</div>
		<div class="machine_area_wrapper">
			<a class="btn btn-inverse" href="javascript:PressButton();">Parse</a>
			<a class="btn" href="javascript:LockEditor();">Lock Editor</a>
			<a class="btn" href="javascript:UnlockEditor();">Unlock Editor</a>
			<div style="border: 2px solid #dddddd; margin-top: 5px; padding: 5px;" id="debugbox"></div>
		</div>
		<script>
			// enable codearea as an ace editor
			var editor = ace.edit("editor");
			editor.setTheme("ace/theme/eclipse");
			editor.getSession().setMode("ace/mode/sparc");
			
			//RSimInitialise(editor);
			StartMachine(editor);
		</script>
	</body>
</html>
